auth_step: |
    {{=<% %>=}}
    - name: Configure AWS credentials
      if: steps.changes.outputs.src == 'true' || github.event_name != 'pull_request_target'
      uses: aws-actions/configure-aws-credentials@v1
      with:
        role-to-assume: arn:aws:iam::707066037989:role/cq-provider-aws-github-action
        aws-region: us-east-1

name: "aws"

post_test_step: |
    {{=<% %>=}}
    - name: Slack Notification
        uses: rtCamp/action-slack-notify@v2
        if: ${{  github.event_name != 'pull_request_target' && failure() }}
        env:
          SLACK_CHANNEL: oss-tests
          SLACK_COLOR: ${{ job.status }}
          SLACK_MESSAGE: '<%> name %> - E2E tests failed'
          SLACK_TITLE: <%> name %> - E2E tests failed
          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}